<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 400" width="700" height="400">
  <defs>
    <linearGradient id="meshBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4299e1;stop-opacity:0.1" />
      <stop offset="100%" style="stop-color:#3182ce;stop-opacity:0.2" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="700" height="400" fill="#f7fafc" rx="8"/>

  <!-- Mesh container -->
  <rect x="20" y="20" width="660" height="360" rx="8" fill="url(#meshBg)" stroke="#4299e1" stroke-width="2"/>
  <text x="350" y="45" text-anchor="middle" fill="#2b6cb0" font-family="sans-serif" font-size="14" font-weight="bold">MACULA MESH</text>

  <!-- Robot nodes -->
  <rect x="50" y="70" width="100" height="70" rx="6" fill="#48bb78" stroke="#276749" stroke-width="2"/>
  <text x="100" y="95" text-anchor="middle" fill="white" font-family="sans-serif" font-size="11" font-weight="bold">Robot 1</text>
  <text x="100" y="115" text-anchor="middle" fill="#c6f6d5" font-family="sans-serif" font-size="9">(peer)</text>

  <rect x="180" y="70" width="100" height="70" rx="6" fill="#48bb78" stroke="#276749" stroke-width="2"/>
  <text x="230" y="95" text-anchor="middle" fill="white" font-family="sans-serif" font-size="11" font-weight="bold">Robot 2</text>
  <text x="230" y="115" text-anchor="middle" fill="#c6f6d5" font-family="sans-serif" font-size="9">(peer)</text>

  <rect x="310" y="70" width="100" height="70" rx="6" fill="#48bb78" stroke="#276749" stroke-width="2"/>
  <text x="360" y="95" text-anchor="middle" fill="white" font-family="sans-serif" font-size="11" font-weight="bold">Robot 3</text>
  <text x="360" y="115" text-anchor="middle" fill="#c6f6d5" font-family="sans-serif" font-size="9">(peer)</text>

  <rect x="440" y="70" width="100" height="70" rx="6" fill="#48bb78" stroke="#276749" stroke-width="2"/>
  <text x="490" y="95" text-anchor="middle" fill="white" font-family="sans-serif" font-size="11" font-weight="bold">Robot N</text>
  <text x="490" y="115" text-anchor="middle" fill="#c6f6d5" font-family="sans-serif" font-size="9">(peer)</text>

  <rect x="570" y="70" width="100" height="70" rx="6" fill="#9f7aea" stroke="#6b46c1" stroke-width="2"/>
  <text x="620" y="95" text-anchor="middle" fill="white" font-family="sans-serif" font-size="11" font-weight="bold">Trainer</text>
  <text x="620" y="115" text-anchor="middle" fill="#e9d8fd" font-family="sans-serif" font-size="9">(peer)</text>

  <!-- Connection arrows between robots -->
  <line x1="150" y1="105" x2="180" y2="105" stroke="#718096" stroke-width="2"/>
  <line x1="280" y1="105" x2="310" y2="105" stroke="#718096" stroke-width="2"/>
  <line x1="410" y1="105" x2="440" y2="105" stroke="#718096" stroke-width="2"/>
  <line x1="540" y1="105" x2="570" y2="105" stroke="#718096" stroke-width="2"/>

  <!-- Connection line down to DHT -->
  <line x1="100" y1="140" x2="100" y2="180" stroke="#718096" stroke-width="1.5"/>
  <line x1="230" y1="140" x2="230" y2="180" stroke="#718096" stroke-width="1.5"/>
  <line x1="360" y1="140" x2="360" y2="180" stroke="#718096" stroke-width="1.5"/>
  <line x1="490" y1="140" x2="490" y2="180" stroke="#718096" stroke-width="1.5"/>
  <line x1="620" y1="140" x2="620" y2="180" stroke="#718096" stroke-width="1.5"/>

  <!-- Horizontal connector -->
  <line x1="100" y1="180" x2="620" y2="180" stroke="#718096" stroke-width="1.5"/>
  <line x1="360" y1="180" x2="360" y2="210" stroke="#718096" stroke-width="2"/>

  <!-- DHT box -->
  <rect x="150" y="210" width="420" height="100" rx="8" fill="#edf2f7" stroke="#a0aec0" stroke-width="2"/>
  <text x="360" y="240" text-anchor="middle" fill="#2d3748" font-family="sans-serif" font-size="12" font-weight="bold">DHT (Service Discovery)</text>

  <text x="200" y="265" fill="#4a5568" font-family="sans-serif" font-size="10">Robot locations</text>
  <text x="200" y="285" fill="#4a5568" font-family="sans-serif" font-size="10">Network versions</text>
  <text x="400" y="265" fill="#4a5568" font-family="sans-serif" font-size="10">Task assignments</text>
  <text x="400" y="285" fill="#4a5568" font-family="sans-serif" font-size="10">Pheromone trails</text>

  <!-- Legend -->
  <rect x="200" y="340" width="300" height="30" rx="4" fill="white" stroke="#e2e8f0"/>
  <circle cx="230" cy="355" r="8" fill="#48bb78"/>
  <text x="245" y="359" fill="#4a5568" font-family="sans-serif" font-size="9">Robot peer</text>
  <circle cx="340" cy="355" r="8" fill="#9f7aea"/>
  <text x="355" y="359" fill="#4a5568" font-family="sans-serif" font-size="9">Training coordinator</text>
</svg>
