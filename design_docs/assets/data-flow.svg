<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 450" width="750" height="450">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a5568"/>
    </marker>
    <linearGradient id="erlangGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4299e1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3182ce;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="elixirGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9f7aea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#805ad5;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="750" height="450" fill="#f7fafc" rx="8"/>

  <!-- Title -->
  <text x="375" y="25" text-anchor="middle" fill="#2d3748" font-family="sans-serif" font-size="14" font-weight="bold">Current Data Flow</text>

  <!-- ERLANG WORLD section -->
  <rect x="20" y="40" width="710" height="200" rx="8" fill="#ebf8ff" stroke="#4299e1" stroke-width="2"/>
  <text x="50" y="65" fill="#2b6cb0" font-family="sans-serif" font-size="12" font-weight="bold">ERLANG WORLD</text>

  <!-- faber-neuroevolution box -->
  <rect x="40" y="75" width="170" height="55" rx="6" fill="url(#erlangGrad)" stroke="#2b6cb0" stroke-width="2"/>
  <text x="125" y="95" text-anchor="middle" fill="white" font-family="monospace" font-size="10" font-weight="bold">faber-neuroevolution</text>
  <text x="125" y="115" text-anchor="middle" fill="#bee3f8" font-family="monospace" font-size="8">neuroevolution_server</text>

  <!-- Arrow to tweann -->
  <line x1="210" y1="102" x2="260" y2="102" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- faber-tweann box -->
  <rect x="265" y="75" width="140" height="55" rx="6" fill="url(#erlangGrad)" stroke="#2b6cb0" stroke-width="2"/>
  <text x="335" y="95" text-anchor="middle" fill="white" font-family="monospace" font-size="10" font-weight="bold">faber-tweann</text>
  <text x="335" y="115" text-anchor="middle" fill="#bee3f8" font-family="monospace" font-size="8">network_evaluator</text>

  <!-- Evaluate call flow -->
  <line x1="125" y1="130" x2="125" y2="160" stroke="#4a5568" stroke-width="2"/>
  <text x="135" y="150" fill="#4a5568" font-family="monospace" font-size="8">evaluate(Individual, Options)</text>

  <!-- Bridge box -->
  <rect x="40" y="165" width="530" height="65" rx="6" fill="#2b6cb0" stroke="#1a365d" stroke-width="2"/>
  <text x="305" y="187" text-anchor="middle" fill="white" font-family="monospace" font-size="11" font-weight="bold">neurolab_evaluator_bridge.erl</text>
  <text x="305" y="203" text-anchor="middle" fill="#90cdf4" font-family="monospace" font-size="9">(implements neuroevolution_evaluator)</text>
  <rect x="460" y="172" width="100" height="18" rx="3" fill="#ed8936"/>
  <text x="510" y="185" text-anchor="middle" fill="white" font-family="monospace" font-size="9">Lives in neurolab</text>

  <!-- Boundary line -->
  <line x1="20" y1="252" x2="730" y2="252" stroke="#718096" stroke-width="3" stroke-dasharray="10,5"/>
  <rect x="300" y="242" width="150" height="20" rx="4" fill="#f7fafc"/>
  <text x="375" y="256" text-anchor="middle" fill="#718096" font-family="monospace" font-size="10" font-weight="bold">Erlang --RPC--> Elixir</text>

  <!-- ELIXIR WORLD section -->
  <rect x="20" y="265" width="710" height="170" rx="8" fill="#faf5ff" stroke="#9f7aea" stroke-width="2"/>
  <text x="50" y="290" fill="#6b46c1" font-family="sans-serif" font-size="12" font-weight="bold">ELIXIR WORLD</text>

  <!-- Elixir Bridge module -->
  <rect x="40" y="300" width="340" height="50" rx="6" fill="url(#elixirGrad)" stroke="#6b46c1" stroke-width="2"/>
  <text x="210" y="320" text-anchor="middle" fill="white" font-family="monospace" font-size="10" font-weight="bold">MaculaNeurolab.Evaluators.Bridge</text>
  <text x="210" y="337" text-anchor="middle" fill="#e9d8fd" font-family="monospace" font-size="9">(dispatches to domain evaluator)</text>

  <!-- Arrow to evaluator -->
  <line x1="210" y1="350" x2="210" y2="380" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- CartPole evaluator -->
  <rect x="40" y="385" width="340" height="40" rx="6" fill="url(#elixirGrad)" stroke="#6b46c1" stroke-width="2"/>
  <text x="210" y="405" text-anchor="middle" fill="white" font-family="monospace" font-size="10" font-weight="bold">MaculaNeurolab.Evaluators.CartPole</text>
  <text x="210" y="418" text-anchor="middle" fill="#e9d8fd" font-family="monospace" font-size="9">(physics simulation, returns metrics)</text>

  <!-- Phoenix LiveView -->
  <rect x="420" y="300" width="290" height="90" rx="6" fill="url(#elixirGrad)" stroke="#6b46c1" stroke-width="2"/>
  <text x="565" y="325" text-anchor="middle" fill="white" font-family="monospace" font-size="11" font-weight="bold">Phoenix LiveView UI</text>
  <text x="565" y="345" text-anchor="middle" fill="#e9d8fd" font-family="monospace" font-size="9">(the ACTUAL reason</text>
  <text x="565" y="360" text-anchor="middle" fill="#e9d8fd" font-family="monospace" font-size="9">Elixir exists)</text>
</svg>